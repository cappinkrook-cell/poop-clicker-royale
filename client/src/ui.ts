import { Scores } from './net'; export function updateScores(el:HTMLOListElement,scores:Scores,me:string){const entries=Object.entries(scores).sort((a,b)=>b[1]-a[1]).slice(0,20); el.innerHTML=''; for(const [name,sc] of entries){const li=document.createElement('li'); li.textContent=`${name}: ${sc}`; if(name===me) li.style.fontWeight='700'; el.appendChild(li);} } export function setTimer(el:HTMLElement,t:number){ el.textContent=Math.max(0,Math.floor(t)).toString(); } export function overlay(title:string,body:string){ const ov=document.getElementById('overlay')!; (document.getElementById('overlayTitle')!).textContent=title; (document.getElementById('overlayBody')!).textContent=body; ov.classList.remove('hidden'); document.getElementById('closeOverlay')!.onclick=()=>ov.classList.add('hidden'); } export function maybeHandleProFlag(){ const url=new URL(location.href); if(url.searchParams.get('pro')==='1'){ localStorage.setItem('noads','1'); url.searchParams.delete('pro'); history.replaceState({},'',url.toString()); } } export function applyAdVisibility(){ const noads=localStorage.getItem('noads')==='1'; document.querySelectorAll('.ad').forEach(d=>(d as HTMLElement).style.display=noads?'none':'block'); const btn=document.getElementById('removeAds')! as HTMLAnchorElement; if(noads){ btn.style.display='none'; } }